{"ast":null,"code":"// src/api.js\nconst BASE_URL = \"http://localhost:5000/posts\";\nasync function handleRes(res) {\n  if (!res.ok) {\n    const text = await res.text();\n    throw new Error(`HTTP ${res.status}: ${text}`);\n  }\n  const text = await res.text();\n  return text ? JSON.parse(text) : null;\n}\nexport async function getPosts() {\n  const res = await fetch(BASE_URL);\n  return handleRes(res);\n}\nexport async function getPost(id) {\n  const res = await fetch(`${BASE_URL}/${id}`);\n  return handleRes(res);\n}\nexport async function createPost(post) {\n  const res = await fetch(BASE_URL, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(post)\n  });\n  return handleRes(res);\n}\nexport async function updatePost(id, patch) {\n  const res = await fetch(`${BASE_URL}/${id}`, {\n    method: \"PATCH\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(patch)\n  });\n  return handleRes(res);\n}\nexport async function deletePost(id) {\n  const res = await fetch(`${BASE_URL}/${id}`, {\n    method: \"DELETE\"\n  });\n  return handleRes(res);\n}","map":{"version":3,"names":["BASE_URL","handleRes","res","ok","text","Error","status","JSON","parse","getPosts","fetch","getPost","id","createPost","post","method","headers","body","stringify","updatePost","patch","deletePost"],"sources":["D:/Study/4 curse Computer science/3 curse 1 semestr/Web client service/modul/my-app/frontend/src/api.js"],"sourcesContent":["// src/api.js\r\nconst BASE_URL = \"http://localhost:5000/posts\";\r\n\r\n\r\nasync function handleRes(res) {\r\n  if (!res.ok) {\r\n    const text = await res.text();\r\n    throw new Error(`HTTP ${res.status}: ${text}`);\r\n  }\r\n\r\n  \r\n  const text = await res.text();\r\n  \r\n  return text ? JSON.parse(text) : null;\r\n}\r\n\r\n\r\nexport async function getPosts() {\r\n  const res = await fetch(BASE_URL);\r\n  return handleRes(res);\r\n}   \r\n\r\nexport async function getPost(id) {\r\n  const res = await fetch(`${BASE_URL}/${id}`);\r\n  return handleRes(res);\r\n}\r\n\r\nexport async function createPost(post) {\r\n  const res = await fetch(BASE_URL, {\r\n    method: \"POST\",\r\n    headers: { \"Content-Type\": \"application/json\" },\r\n    body: JSON.stringify(post),\r\n  });\r\n  return handleRes(res);\r\n}\r\n\r\nexport async function updatePost(id, patch) {\r\n  \r\n  const res = await fetch(`${BASE_URL}/${id}`, {\r\n    method: \"PATCH\",\r\n    headers: { \"Content-Type\": \"application/json\" },\r\n    body: JSON.stringify(patch),\r\n  });\r\n  return handleRes(res);\r\n}\r\n\r\nexport async function deletePost(id) {\r\n  const res = await fetch(`${BASE_URL}/${id}`, {\r\n    method: \"DELETE\",\r\n  });\r\n  return handleRes(res);\r\n}\r\n"],"mappings":"AAAA;AACA,MAAMA,QAAQ,GAAG,6BAA6B;AAG9C,eAAeC,SAASA,CAACC,GAAG,EAAE;EAC5B,IAAI,CAACA,GAAG,CAACC,EAAE,EAAE;IACX,MAAMC,IAAI,GAAG,MAAMF,GAAG,CAACE,IAAI,CAAC,CAAC;IAC7B,MAAM,IAAIC,KAAK,CAAC,QAAQH,GAAG,CAACI,MAAM,KAAKF,IAAI,EAAE,CAAC;EAChD;EAGA,MAAMA,IAAI,GAAG,MAAMF,GAAG,CAACE,IAAI,CAAC,CAAC;EAE7B,OAAOA,IAAI,GAAGG,IAAI,CAACC,KAAK,CAACJ,IAAI,CAAC,GAAG,IAAI;AACvC;AAGA,OAAO,eAAeK,QAAQA,CAAA,EAAG;EAC/B,MAAMP,GAAG,GAAG,MAAMQ,KAAK,CAACV,QAAQ,CAAC;EACjC,OAAOC,SAAS,CAACC,GAAG,CAAC;AACvB;AAEA,OAAO,eAAeS,OAAOA,CAACC,EAAE,EAAE;EAChC,MAAMV,GAAG,GAAG,MAAMQ,KAAK,CAAC,GAAGV,QAAQ,IAAIY,EAAE,EAAE,CAAC;EAC5C,OAAOX,SAAS,CAACC,GAAG,CAAC;AACvB;AAEA,OAAO,eAAeW,UAAUA,CAACC,IAAI,EAAE;EACrC,MAAMZ,GAAG,GAAG,MAAMQ,KAAK,CAACV,QAAQ,EAAE;IAChCe,MAAM,EAAE,MAAM;IACdC,OAAO,EAAE;MAAE,cAAc,EAAE;IAAmB,CAAC;IAC/CC,IAAI,EAAEV,IAAI,CAACW,SAAS,CAACJ,IAAI;EAC3B,CAAC,CAAC;EACF,OAAOb,SAAS,CAACC,GAAG,CAAC;AACvB;AAEA,OAAO,eAAeiB,UAAUA,CAACP,EAAE,EAAEQ,KAAK,EAAE;EAE1C,MAAMlB,GAAG,GAAG,MAAMQ,KAAK,CAAC,GAAGV,QAAQ,IAAIY,EAAE,EAAE,EAAE;IAC3CG,MAAM,EAAE,OAAO;IACfC,OAAO,EAAE;MAAE,cAAc,EAAE;IAAmB,CAAC;IAC/CC,IAAI,EAAEV,IAAI,CAACW,SAAS,CAACE,KAAK;EAC5B,CAAC,CAAC;EACF,OAAOnB,SAAS,CAACC,GAAG,CAAC;AACvB;AAEA,OAAO,eAAemB,UAAUA,CAACT,EAAE,EAAE;EACnC,MAAMV,GAAG,GAAG,MAAMQ,KAAK,CAAC,GAAGV,QAAQ,IAAIY,EAAE,EAAE,EAAE;IAC3CG,MAAM,EAAE;EACV,CAAC,CAAC;EACF,OAAOd,SAAS,CAACC,GAAG,CAAC;AACvB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}