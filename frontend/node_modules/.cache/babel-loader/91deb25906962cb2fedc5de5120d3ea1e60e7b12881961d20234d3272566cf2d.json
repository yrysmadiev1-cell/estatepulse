{"ast":null,"code":"// src/api.js\nconst BASE_URL = \"https://58ce86f119b3faf1.mokky.dev/posts\";\nasync function handleRes(res) {\n  if (!res.ok) {\n    const text = await res.text();\n    throw new Error(`HTTP ${res.status}: ${text}`);\n  }\n  return res.status === 204 ? null : res.json();\n}\nexport async function getPosts() {\n  const res = await fetch(BASE_URL);\n  return handleRes(res);\n}\nexport async function getPost(id) {\n  const res = await fetch(`${BASE_URL}/${id}`);\n  return handleRes(res);\n}\nexport async function createPost(post) {\n  const res = await fetch(BASE_URL, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(post)\n  });\n  return handleRes(res);\n}\nexport async function updatePost(id, patch) {\n  // Используем PATCH для частичного обновления\n  const res = await fetch(`${BASE_URL}/${id}`, {\n    method: \"PATCH\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(patch)\n  });\n  return handleRes(res);\n}\nexport async function deletePost(id) {\n  const res = await fetch(`${BASE_URL}/${id}`, {\n    method: \"DELETE\"\n  });\n  return handleRes(res);\n}","map":{"version":3,"names":["BASE_URL","handleRes","res","ok","text","Error","status","json","getPosts","fetch","getPost","id","createPost","post","method","headers","body","JSON","stringify","updatePost","patch","deletePost"],"sources":["C:/Users/yrysd/Desktop/Study/4 curse Computer science/3 curse 1 semestr/Web client service/modul/my-app/src/api.js"],"sourcesContent":["// src/api.js\r\nconst BASE_URL = \"https://58ce86f119b3faf1.mokky.dev/posts\";\r\n\r\nasync function handleRes(res) {\r\n  if (!res.ok) {\r\n    const text = await res.text();\r\n    throw new Error(`HTTP ${res.status}: ${text}`);\r\n  }\r\n  return res.status === 204 ? null : res.json();\r\n}\r\n\r\nexport async function getPosts() {\r\n  const res = await fetch(BASE_URL);\r\n  return handleRes(res);\r\n}\r\n\r\nexport async function getPost(id) {\r\n  const res = await fetch(`${BASE_URL}/${id}`);\r\n  return handleRes(res);\r\n}\r\n\r\nexport async function createPost(post) {\r\n  const res = await fetch(BASE_URL, {\r\n    method: \"POST\",\r\n    headers: { \"Content-Type\": \"application/json\" },\r\n    body: JSON.stringify(post),\r\n  });\r\n  return handleRes(res);\r\n}\r\n\r\nexport async function updatePost(id, patch) {\r\n  // Используем PATCH для частичного обновления\r\n  const res = await fetch(`${BASE_URL}/${id}`, {\r\n    method: \"PATCH\",\r\n    headers: { \"Content-Type\": \"application/json\" },\r\n    body: JSON.stringify(patch),\r\n  });\r\n  return handleRes(res);\r\n}\r\n\r\nexport async function deletePost(id) {\r\n  const res = await fetch(`${BASE_URL}/${id}`, {\r\n    method: \"DELETE\",\r\n  });\r\n  return handleRes(res);\r\n}\r\n"],"mappings":"AAAA;AACA,MAAMA,QAAQ,GAAG,0CAA0C;AAE3D,eAAeC,SAASA,CAACC,GAAG,EAAE;EAC5B,IAAI,CAACA,GAAG,CAACC,EAAE,EAAE;IACX,MAAMC,IAAI,GAAG,MAAMF,GAAG,CAACE,IAAI,CAAC,CAAC;IAC7B,MAAM,IAAIC,KAAK,CAAC,QAAQH,GAAG,CAACI,MAAM,KAAKF,IAAI,EAAE,CAAC;EAChD;EACA,OAAOF,GAAG,CAACI,MAAM,KAAK,GAAG,GAAG,IAAI,GAAGJ,GAAG,CAACK,IAAI,CAAC,CAAC;AAC/C;AAEA,OAAO,eAAeC,QAAQA,CAAA,EAAG;EAC/B,MAAMN,GAAG,GAAG,MAAMO,KAAK,CAACT,QAAQ,CAAC;EACjC,OAAOC,SAAS,CAACC,GAAG,CAAC;AACvB;AAEA,OAAO,eAAeQ,OAAOA,CAACC,EAAE,EAAE;EAChC,MAAMT,GAAG,GAAG,MAAMO,KAAK,CAAC,GAAGT,QAAQ,IAAIW,EAAE,EAAE,CAAC;EAC5C,OAAOV,SAAS,CAACC,GAAG,CAAC;AACvB;AAEA,OAAO,eAAeU,UAAUA,CAACC,IAAI,EAAE;EACrC,MAAMX,GAAG,GAAG,MAAMO,KAAK,CAACT,QAAQ,EAAE;IAChCc,MAAM,EAAE,MAAM;IACdC,OAAO,EAAE;MAAE,cAAc,EAAE;IAAmB,CAAC;IAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACL,IAAI;EAC3B,CAAC,CAAC;EACF,OAAOZ,SAAS,CAACC,GAAG,CAAC;AACvB;AAEA,OAAO,eAAeiB,UAAUA,CAACR,EAAE,EAAES,KAAK,EAAE;EAC1C;EACA,MAAMlB,GAAG,GAAG,MAAMO,KAAK,CAAC,GAAGT,QAAQ,IAAIW,EAAE,EAAE,EAAE;IAC3CG,MAAM,EAAE,OAAO;IACfC,OAAO,EAAE;MAAE,cAAc,EAAE;IAAmB,CAAC;IAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACE,KAAK;EAC5B,CAAC,CAAC;EACF,OAAOnB,SAAS,CAACC,GAAG,CAAC;AACvB;AAEA,OAAO,eAAemB,UAAUA,CAACV,EAAE,EAAE;EACnC,MAAMT,GAAG,GAAG,MAAMO,KAAK,CAAC,GAAGT,QAAQ,IAAIW,EAAE,EAAE,EAAE;IAC3CG,MAAM,EAAE;EACV,CAAC,CAAC;EACF,OAAOb,SAAS,CAACC,GAAG,CAAC;AACvB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}